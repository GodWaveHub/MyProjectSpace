---
description: テーブル定義書作成時の指示
applyTo: "テーブル定義書作成時のルール"
---

# テーブル定義書作成時の指示
- テーブル定義書作成時は必ずテーブル定義書作成のルールに従って、テーブル定義書を作成してください。
- postgreSQLを想定したテーブル定義書・データ型・SQLを作成してください。

## テーブル定義書作成のルール
- テーブル定義書は、07_Design\03_DatabaseDesign フォルダに作成してください。
- テーブル定義書は以下のファイルを作成してください。
    - テーブル定義書（{tablename}_Table_Definition.md）
    - インデックス定義書（{tablename}_Index_Definition.md）
    - ER図（ER_Diagram.mmd, ER_Diagram.svg）marmaidで作成してsvgに変換して保存してください。
- 命名規則は以下に従ってください。
    - テーブル名: `プロジェクト略称_機能略称_テーブル用途`（例: PRJ_USER_ACCOUNT）
    - カラム名: `小文字のスネークケース`（例: user_id, created_at）
    - インデックス名: `idx_テーブル名_カラム名`（例: idx_user_account_user_id）

## カラム論理名に関するルール
- すべてのカラムには物理名（英語）と論理名（日本語）を必ず設定してください。
- カラム論理名は業務上の意味を理解しやすい日本語名称を使用してください。
- 制約定義、インデックス定義、ER図においてもカラム論理名を併記してください。
- 制約定義の表には「対象カラム論理名」列を追加してください。
- インデックス定義の表には「対象カラム論理名」列を追加してください。
- ER図のテーブル表記では、カラムを「物理名（論理名）」の形式で記載してください。

## フォーマットファイルの活用
- テーブル定義書作成時は、以下のフォーマットファイルを参照して作成してください。
    - テーブル定義書: `80_formats/table_definition_format.md`
    - インデックス定義書: `80_formats/index_definition_format.md`
- フォーマットファイルの項目をすべて埋めて、統一された形式で作成してください。
- フォーマットファイルの内容を参考に、プロジェクトに適した形に調整することも可能です。 